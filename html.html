<!DOCTYPE html>
<html lang="en">

<head>
    <title>Mapbox Geocoder Reprex</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
</head>

<body>
    <form id="form">
        <div id="geocoder"></div>
        <input type="hidden" id="address" name="address" required>
        <button type="submit">Submit</button>
    </form>

    <script>
        mapboxgl.accessToken = 'your_mapbox_access_token';
        const geocoder = new MapboxGeocoder({
            accessToken: mapboxgl.accessToken,
            types: 'region,place,postcode,locality, address',
            bbox: [5.886955, 46.119093, 6.409492, 46.286137], // Boundary for geneva
            proximity: {
                longitude: 6.145300,
                latitude: 46.195160
            } // Coordinates of Geneva
        });

        document.getElementById('geocoder').appendChild(geocoder.onAdd());

        // Get the hidden input field
        const addressInput = document.getElementById('address');

        // Update the hidden input field when a geocoder result is selected
        geocoder.on('result', (e) => {
            addressInput.value = e.result.pla<!DOCTYPE html>
            <html lang="en" prefix="og: http://ogp.me/ns#">
            
            <head>
            
                <!-- Global site tag (gtag.js) - Google Analytics -->
            
            
            
            
            
                <title>Contact</title>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1">
            
            
                <!--===============================================================================================-->
                <link rel="icon" type="image/png" href="form/images/icons/favicon.ico" />
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/vendor/bootstrap/css/bootstrap.min.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/vendor/animate/animate.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/vendor/css-hamburgers/hamburgers.min.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/vendor/animsition/css/animsition.min.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/vendor/select2/select2.min.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/vendor/daterangepicker/daterangepicker.css">
                <!--===============================================================================================-->
                <link rel="stylesheet" type="text/css" href="form/css/util.css">
                <link rel="stylesheet" type="text/css" href="form/css/main.css">
            
                <!-- Search bar -->
                <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet">
                <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>
            
                <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
                <!-- <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css"> -->
            
                <!--===============================================================================================-->
                <!-- Custom styles for this template -->
                <link href="css/agency.css" rel="stylesheet">
            
            
            
            
                <!-- Include Bootstrap CDN -->
                <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js">
                </script>
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js">
                </script>
            
                <!-- Include Moment.js CDN -->
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js">
                </script>
            
                <!-- Include Bootstrap DateTimePicker CDN -->
                <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js">
                </script>
            
                <link href="css/custom.css" rel="stylesheet">
            
                <!-- load special icons -->
                <style>
                    @font-face {
                        font-family: 'icomoon';
                        src: url('fonts/icomoon.eot?j5tn3a');
                        src: url('fonts/icomoon.eot?j5tn3a#iefix') format('embedded-opentype'), url('fonts/icomoon.ttf?j5tn3a') format('truetype'), url('fonts/icomoon.woff?j5tn3a') format('woff'), url('fonts/icomoon.svg?j5tn3a#icomoon') format('svg');
                        font-weight: normal;
                        font-style: normal;
                        font-display: block;
                    }
                    
                    [class^="icon-"],
                    [class*=" icon-"] {
                        /* use !important to prevent issues with browser extensions that change fonts */
                        font-family: 'icomoon' !important;
                        speak: never;
                        font-style: normal;
                        font-weight: normal;
                        font-variant: normal;
                        text-transform: none;
                        line-height: 1;
                        /* Better Font Rendering =========== */
                        -webkit-font-smoothing: antialiased;
                        -moz-osx-font-smoothing: grayscale;
                    }
                </style>
            
            </head>
            
            
            <body>
            
            
            
            
                <section>
                    <div class="container-fluid">
                        <div class="row">
            
                            <form action="https://formsubmit.co/info@rocket-courrier.ch" method="POST" class="contact100-form validate-form" id="form_container">
                                <span class="contact100-form-title">
                                Commandez votre course
                                </span>
                                <span class="contact100-form"> Vous avez besoin que quelque chose soit livré quelque part tout de suite ? 
                                    Remplissez le formulaire ci-dessous et nous vous répondrons dans les plus brefs délais.</span>
            
                                
                                    <div class="wrap-input101 rs1-wrap-input100 validate-input">
                                        <div id="geocoder3"></div>
                                        <pre id="result3"></pre>
                                    
                                        <script>
                                            mapboxgl.accessToken = 'pk.eyJ1IjoibXVub3p0ZDAiLCJhIjoiY2x0MzVsM2ZwMDAybzJqbW0zbGg0ZDA5NyJ9.Dv3ot4oBlcW1ydGWJWIouQ';
                                            const geocoder3 = new MapboxGeocoder({
                                                accessToken: mapboxgl.accessToken,
                                                types: 'region,place,postcode,locality, address',
                                                bbox: [5.886955, 46.119093, 6.409492, 46.286137], // Boundary for geneva
                                                proximity: {
                                                    longitude: 6.145300,
                                                    latitude: 46.195160
                                                } // Coordinates of Geneva
                                            });
                                    
                                            document.getElementById('geocoder3').appendChild(geocoder3.onAdd());
                                    
                                            // Get the geocoder results container.
                                            const results3 = document.getElementById('result3');
                                    
                                            // Add geocoder result to container.
                                            geocoder3.on('result', (e) => {
                                                results3.innerText = JSON.stringify(e.result, null, 2);
                                            });
                                    
                                            // Clear results container when search is cleared.
                                            geocoder3.on('clear', () => {
                                                results3.innerText = '';
                                            });
                                    
                                            // Get the form element
                                            const form = document.querySelector('form');
                                    
                                            // Add an event listener for the submit event
                                            form.addEventListener('submit', (e) => {
                                                // Check if the geocoder input is empty
                                                if (!results3.innerText) {
                                                    // Prevent the form from being submitted
                                                    e.preventDefault();
                                                    alert('Please enter a location.');
                                                }
                                            });
                                        </script>
                                    </div>
            
            
                                <span class="contact100-form-title"> Acceptez</span>
                                <div class="wrap-input100 rs1-wrap-input100">
                                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                                    <label class="form-check-label" for="invalidCheck">
                                        &nbsp   &nbsp J'accepte les <a href="./img/calcul/conditions_generales.pdf">conditions générales</a> * 
                                </label>
            
                                </div>
            
                                <div class="container-contact100-form-btn">
                                    <button class="contact100-form-btn">
                            <span>
                                Envoyer
                                <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
                            </span>
                        </button>
                                </div>
                            </form>
                            <div id="success_message" style="width:100%; height:100%; display:none; ">
                                <h3>Posted your message successfully!</h3>
                            </div>
                            <div id="error_message" style="width:100%; height:100%; display:none; ">
                                <h3>Error</h3>
                                Sorry there was an error sending your form.
            
                            </div>
                        </div>
                    </div>
                </section>
            
            
                <!-- SEARCH -->
                <script type="text/javascript" src="js/myfunc.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            
            </body>
            
            </html>ce_name;
        });

        // Clear the hidden input field when the geocoder input is cleared
        geocoder.on('clear', () => {
            addressInput.value = '';
        });
    </script>
</body>

</html>